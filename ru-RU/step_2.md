## Использование двигателей энкодеров LEGO® Spike™

Энкодеры двигателей могут не только вращаться, но и точно определять, на сколько градусов они были повернуты.

![Мотор с отметкой леденца на палочке в круге.](images/aligned_symbols.jpg)

У всех двигателей LEGO® Spike™ есть энкодеры. Если ты посмотришь на вращающуюся дисковую часть двигателя, ты увидишь отметку в форме леденца на палочке, которую можно совместить с отметкой 0 на белом корпусе самого двигателя. Это кодировщик, установленный на ноль градусов, и любое угловое перемещение вала двигателя может быть измерено относительно этой точки.

--- collapse ---
---
title: Как работают энкодеры двигателя
---

Энкодер двигателя, также называемый датчиком вращения или положения вала, представляет собой электромеханическое устройство, которое позволяет фиксировать угловое положение или движение оси. Обычно это делается путем преобразования углового положения в аналоговый или цифровой выход.

Если у двигателя есть энкодер, это означает, что ты можешь очень точно установить положение оси. Это также позволяет тебе использовать двигатель в качестве устройства ввода, так, что если что-то меняет положение оси, это можно зарегистрировать и использовать для запуска других действий в компьютерной программе.

--- /collapse ---

--- task ---

Подключите к компьютеру Raspberry Pi монитор, клавиатуру и мышь.

Подключи свою плату Build HAT к Raspberry Pi напечатанным логотипом вверх, убедившись, что ты правильно накрыл все контакты.

Наконец, подключи питание: либо через цилиндрический разъем платы Build HAT, либо через порт USB-C на Raspberry Pi.

--- /task ---

--- task ---

Подключи двигатель к порту A на плате Build HAT.

![Мотор подключен через ленточный кабель к порту A на плате Build HAT.](images/motor_attached.jpg)

--- /task ---

--- task ---

Прикрепи к двигателю большое колесо с помощью четырех соединительных штифтов. Поверни колесо так, чтобы отметка леденца на палочке совпала с нулем.

![Двигатель с прикрепленными соединительными штифтами.](images/motor_with_pegs.jpg) ![Мотор с прикрепленным большим колесом.](images/motor_with_wheel.jpg)

--- /task ---

--- task ---

Открой приложение Thonny из меню **Програмирование** и щелкните в поле **Оболочка** в нижней части окна Thonny.

--- /task ---

--- task ---

Сначала импортируй библиотеку Build HAT.

```python
from buildhat import Motor
```
Нажми Ввод.

--- /task ---

--- task ---

Затем создай объект двигателя, который сообщает Python-у, что двигатель подключен к порту `A`. Введи:

```python
motor_left = Motor('A')
```
Нажми Ввод. (Будет небольшая задержка, наберись терпения!)

--- /task ---

--- task ---

Теперь ты можешь попросить двигатель сообщить о своем **абсолютном** положении. Оно всегда будет находиться в диапазоне от `-180` и `180`.

```python
motor_left.get_aposition()
```

В зависимости от того, насколько хорошо ты расположил двигатель в начале, ты должен получить значение, близкое к `0`.

Покрути двигатель и введи строку во второй раз и посмотри, как изменится значение.

--- /task ---

--- task ---

Ты также можете отслеживать положение двигателя **относительно**. Это то, как далеко он ушел с момента запуска программы, таким образом оно будет увеличиваться или уменьшаться на `360` за каждый поворот колеса.

```python
motor_left.get_position()
```
--- /task ---

--- task ---

Покрути двигатель и проверь его абсолютное и относительное положения, чтобы понять, как меняются значения.

--- /task ---


